<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Telescope Control - Flymoon</title>
    <link rel="icon" type="image/x-icon" href="{{ url_for('static', filename='images/favicon.ico') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='main.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='telescope.css') }}">
</head>
<body>
    <div class="header-row">
        <a href="/" style="text-decoration: none;">
            <img src="{{ url_for('static', filename='images/logo.svg') }}" alt="Flymoon Transit Tracker" class="logo" />
        </a>
        <div style="flex: 1; text-align: center;">
            <div style="font-size: 1.2em;">üî≠ Telescope Control</div>
            <div id="lastUpdateStatus" style="font-size: 0.9em; color: #666; margin-top: 4px;"></div>
        </div>
        <a href="/" class="btn-sm">‚Üê Back</a>
    </div>

    <div class="telescope-container">
        <!-- Status Message Area -->
        <div id="statusMessage" class="status-message"></div>

        <!-- Connection Panel -->
        <div class="control-panel">
            <h2>Connection</h2>
            <div class="connection-status">
                <div class="status-indicator" id="connectionIndicator">
                    <span class="status-dot" id="statusDot"></span>
                    <span id="connectionStatus">Disconnected</span>
                </div>
                <div class="connection-info" id="connectionInfo"></div>
            </div>
            <div class="button-group">
                <button id="connectBtn" class="btn btn-primary">Connect</button>
                <button id="disconnectBtn" class="btn btn-secondary" disabled>Disconnect</button>
                <button id="simulateBtn" class="btn btn-secondary" title="Toggle simulation mode for demos">üé≠ Simulate</button>
            </div>
        </div>


        <!-- Files Panel -->
        <div class="control-panel">
            <h2>Recorded Files</h2>
            <div class="files-controls">
                <button id="refreshFilesBtn" class="btn btn-secondary" disabled>üîÑ Refresh</button>
                <span id="fileCount" class="file-count"></span>
            </div>
            <div id="filesList" class="files-list">
                <p class="files-empty">Connect to telescope to view files</p>
            </div>
        </div>
    </div>

    <script src="{{ url_for('static', filename='telescope.js') }}"></script>
</body>
</html>
